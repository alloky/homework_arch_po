# Докерезированный POCO сервер

- Для работы необходимы docker и docker compose на хост машине

**Осторожно!** В контейнер пробрасываются ssh ключи (не разобрался как без этого законнектиться в контейнер по ssh)

# Структура

- code - пробрасывается как volume в контейнер
- Dockerfile - конфиг контейнера с сервером, также в него добавлен ssh сервер, чтобы можно было коннектиться через vscode
- docker-compose.yml - конфигурирует контейнер с сервером и контейнер с базой

Скрипты:

- start.sh - поднять всё, использя кэш
- restart.sh - поднять без кэша
- test.sh - протестировать запросы через curl

# (*Небольшие костыли* зачеркнуто) Процесс инициализации:

После поднятия контейнера необходимо зайти в него и выполнить create_db.sh и внутри build - conan_install.sh.

Затем законнектиться через vscode по ssh в конейнер и поставить extensions (Cmake, CMakeTools, C/C++) vscode внутрь контейнера.

Далее выполнить CMake build и Run > Start Debugging

Если при заходе на localhost:1234 в браузере показывается время - значит вссё ок.

# Тестирование

Запросы можно проверить при помощи test.sh